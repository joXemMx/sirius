apply plugin: 'java-library'
dependencies {
//    api group: 'org.slf4j', name: 'slf4j-jdk14', version: "$slf4j_version" //todo this should not be here but is needed for the ide
    api "info.picocli:picocli:$picocli_version"
    //internal
    api group: "de.unijena.bioinf.ms", name: "gibbs_sampling", version: "$siriusVersion"

//    implementation group: "de.unijena.bioinf.ms", name: "zodiac_project_space", version: "$siriusVersion"
    api (group: "de.unijena.bioinf.ms", name: "sirius_api", version: "$siriusVersion"){
        exclude group: "cplex", module: "cplex"
        exclude group: "com.gurobi", module: "gurobi-jar"
    }

    api group: "de.unijena.bioinf.ms", name: "tree_motif_search", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "sirius_project_space", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "quality_assessment", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "passatutto", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "passatutto_project_space", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "networks", version: "$siriusVersion"
//    api group: "de.unijena.bioinf.ms", name: "fingerid_db_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "fingerprinter_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "fingerblast_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "chemdb_rest_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "chemdb_blob_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "chemical_db_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "confidence_score_predict_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "canopus_predict_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "sirius_web_client", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "fingerid_project_space_oss", version: "$fingeridVersion"

    api group: "de.unijena.bioinf.ms", name: "FTAlignmentTool", version: "$siriusVersion"

    //cdk
    api "org.openscience.cdk:cdk-silent:$cdk_version"

    //mztabm
    api group: 'de.isas.mztab', name: 'jmztabm-api', version: "$mztabm_version"
    api group: 'de.isas.mztab', name: 'jmztabm-io', version: "$mztabm_version"

    api group: 'org.jbibtex', name: 'jbibtex', version: '1.0.17'

    api ("de.unijena.bioinf.ms:ft_cplex:$siriusVersion"){
        exclude group: "cplex", module: "cplex"
    }
    //specify cplex version to use with IDE (has not effect on distributed version.)
    api group: 'cplex', name: 'cplex', version: "$cplex_version"

    api ("de.unijena.bioinf.ms:ft_gurobi:$siriusVersion"){
        exclude group: "com.gurobi", module: "gurobi-jar"
    }
    api "com.gurobi:gurobi-jar:$gurobi_version"

    implementation group: 'commons-io', name: 'commons-io', version: '2.11.0'
}

artifactory {
    contextUrl = 'https://bio.informatik.uni-jena.de/repository/'
    publish {
        repository {
            if (version.toString().endsWith('-SNAPSHOT'))
                repoKey = 'libs-snapshot-local'
            else
                repoKey = 'libs-release-local'

            username = project.findProperty('de.unijena.bioinf.build.artifactory.username')
            password = project.findProperty('de.unijena.bioinf.build.artifactory.password')
        }
        defaults {
            publications('mavenJava')
        }
    }
}